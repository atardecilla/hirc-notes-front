<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Health Risk Calculator</title>
</head>
<script src="main.js" defer></script>
<body>

    <h1>Health Risk Calculator</h1>

    <form id="riskForm">
        <!-- Age -->
        <label for="age">Age (years):</label>
        <input type="number" id="age" min="0" required><br><br>

        <!-- Height -->
        <label>Height:</label>
        <input type="number" id="heightFeet" min="2" placeholder="Feet" required>
        <input type="number" id="heightInches" min="0" max="11" placeholder="Inches" required><br><br>

        <!-- Weight -->
        <label for="weight">Weight (lbs):</label>
        <input type="number" id="weight" min="50" required><br><br>

        <!-- Blood Pressure -->
        <label>Blood Pressure (mmHg):</label>
        <input type="number" id="systolic" placeholder="Systolic" min="50" required>
        <input type="number" id="diastolic" placeholder="Diastolic" min="30" required><br><br>

        <!-- Family History -->
        <label>Family History:</label><br>
        <input type="checkbox" name="familyHistory" value="diabetes"> Diabetes<br>
        <input type="checkbox" name="familyHistory" value="cancer"> Cancer<br>
        <input type="checkbox" name="familyHistory" value="alzheimers"> Alzheimerâ€™s<br><br>

        <!-- Submit -->
        <button type="submit">Calculate Risk</button>
    </form>

    <!-- Results -->
    <div id="result"></div>

    <!-- Inline Script to Show Results -->
    <script>
        // Listen for messages from main.js (after calculateRisk runs)
        document.addEventListener('riskCalculated', function(event) {
            const data = event.detail;
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = `
                <h2>Results</h2>
                <p><strong>BMI:</strong> ${data.bmi} (${data.bmiCategory})</p>
                <p><strong>Blood Pressure:</strong> ${data.bpCategory}</p>
                <p><strong>Family History Points:</strong> ${data.familyHistoryPoints}</p>
                <p><strong>Total Risk Score:</strong> ${data.riskScore}</p>
                <p><strong>Risk Category:</strong> <span class="${data.riskCategory.toLowerCase()}">${data.riskCategory.toUpperCase()}</span></p>
            `;
        });
    </script>

</body>
</html>